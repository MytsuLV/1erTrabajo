<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>First Program Quad of Colors</title>
</head>
<style>
    #mycanvas{
        border: 2px solid black;
        background-color: aliceblue;
    }
</style>
<body style="background-color:#ffffff;">
    <canvas id="mycanvas" width="800" height="800"> </canvas>
</body>

<script>
    var canvas = document.getElementById('mycanvas'); 
    var ctx = canvas.getContext('2d');

    var color;
    var figura = true;

    var color = random_rgba();

    var clicPress = false;

    ctx.fillStyle = color;

    canvas.addEventListener("mouseover", (event) => {
        console.log(event);
        color = random_rgba();
        ctx.fillStyle = color;
    })

    function random_rgba() {
        console.log(event);

        var o = Math.round, r = Math.random, s = 255;
        return 'rgba(' + o(r()*s) + ',' + o(r()*s) + ',' + o(r()*s) + ',' + r().toFixed(1) + ')';
    }
    
    canvas.addEventListener("mouseout", (event) => {
        console.log(event);

        figura=!figura;
    })

    canvas.addEventListener("mousemove", (event) => {
        console.log(event);

        if(clicPress){
            ctx.beginPath();
            ctx.arc(event.layerX, event.layerY, 3, 0, 2 * Math.PI); 
            ctx.fill();
            ctx.stroke();
            ctx.closePath();
        }
    })

    canvas.addEventListener("mousedown", (event) => {
        console.log(event);
        clicPress = true;

        if(figura){
            ctx.beginPath();
            ctx.arc(event.layerX, event.layerY, 30, 0, 2 * Math.PI); 
            ctx.fill();
            ctx.stroke();
            ctx.closePath();
        }else{
            ctx.fillRect(event.layerX - 50, event.layerY - 50, 50, 50 );
            ctx.strokeRect(event.layerX - 50, event.layerY - 50, 50, 50);
        }
    });
    canvas.addEventListener("mouseup",(event) => {
        clicPress = false;
    });

    /*
    
    ctx.fillStyle = "rgb(31,231,255, 0.5)";
    ctx.fillRect (10, 10, 50, 50);
     
    ctx.fillStyle = "rgb(230,25,246, 0.5)";
    ctx.fillRect (40, 50, 50, 50);

    ctx.fillStyle = "rgb(171, 171, 171, 0.5)";
    ctx.fillRect (70, 88, 50, 50);
    
    //TEXT
    ctx.beginPath();
    ctx.fillStyle = "white";
    ctx.font = "16px Times New Roman";
    ctx.fillText("Wena noshe", 200, 40);
        
    ctx.stroke = "black";
    ctx.font = "16px Times New Roman";
    ctx.strokeText("Wena noshe", 200, 40);
    ctx.closePath();

    //GRADIENT
    ctx.beginPath();
    const gradient = ctx.createLinearGradient(60, 170, 40, 120);

    gradient.addColorStop(0, "green");
    gradient.addColorStop(.5, "purple");
    gradient.addColorStop(1, "blue");

    ctx.fillStyle = gradient;
    ctx.fillRect(190, 45, 100, 50);
    ctx.closePath();

    //GRADIENT 2
    ctx.beginPath();
    const gradient2 = ctx.createRadialGradient(230, 120, 20, 260, 130, 100);

    gradient2.addColorStop(0, "purple");
    gradient2.addColorStop(0.5, "blue");
    gradient2.addColorStop(1, "green");

    ctx.fillStyle = gradient2;
    ctx.fillRect(190, 98, 100, 50);
    ctx.closePath();

*/

    
</script>

</html>